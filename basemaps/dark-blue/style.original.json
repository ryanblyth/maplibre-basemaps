{
  "version": 8,
  "name": "Dark Blue Basemap",
  "glyphs": "http://localhost:8080/shared/assets/glyphs/{fontstack}/{range}.pbf",
  "sprite": "http://localhost:8080/shared/assets/sprites/basemap",
  "sources": {
    "world_low": {
      "type": "vector",
      "url": "pmtiles://https://data.storypath.studio/pmtiles/world_z0-6.pmtiles",
      "minzoom": 0
    },
    "world_mid": {
      "type": "vector",
      "url": "pmtiles://https://data.storypath.studio/pmtiles/world_z6-10.pmtiles",
      "minzoom": 6
    },
    "us_high": {
      "type": "vector",
      "url": "pmtiles://https://data.storypath.studio/pmtiles/us_z0-15.pmtiles",
      "minzoom": 6,
      "maxzoom": 15
    },
    "world_labels": {
      "type": "vector",
      "url": "pmtiles://https://data.storypath.studio/pmtiles/world-labels_z0-10.pmtiles",
      "minzoom": 0,
      "maxzoom": 10
    }
  },
  "layers": [
    {
      "id": "background",
      "type": "background",
      "paint": {
        "background-color": "#0b0f14"
      }
    },
    {
      "id": "landcover-world",
      "type": "fill",
      "source": "world_low",
      "source-layer": "landcover",
      "minzoom": 0,
      "maxzoom": 6.5,
      "paint": {
        "fill-color": [
          "match", ["get", "class"],
          "wood", "#0f141b", "grass", "#10161e", "scrub", "#10161e", "cropland", "#0f141b", "#0f141b"
        ],
        "fill-opacity": 0.6
      }
    },
    {
      "id": "landcover-world-mid",
      "type": "fill",
      "source": "world_mid",
      "source-layer": "landcover",
      "minzoom": 6,
      "paint": {
        "fill-color": [
          "match", ["get", "class"],
          "wood", "#0f141b", "grass", "#10161e", "scrub", "#10161e", "cropland", "#0f141b", "#0f141b"
        ],
        "fill-opacity": 0.6
      }
    },
    {
      "id": "landuse-world",
      "type": "fill",
      "source": "world_low",
      "source-layer": "landuse",
      "minzoom": 0,
      "maxzoom": 6.5,
      "paint": {
        "fill-color": [
          "match", ["get", "class"],
          "park", "#11161d", "cemetery", "#11161d", "pitch", "#121923", "stadium", "#121923", "residential", "#0e131a", "#0e131a"
        ],
        "fill-opacity": 0.6
      }
    },
    {
      "id": "landuse-world-mid",
      "type": "fill",
      "source": "world_mid",
      "source-layer": "landuse",
      "minzoom": 6,
      "paint": {
        "fill-color": [
          "match", ["get", "class"],
          "park", "#11161d", "cemetery", "#11161d", "pitch", "#121923", "stadium", "#121923", "residential", "#0e131a", "#0e131a"
        ],
        "fill-opacity": 0.6
      }
    },
    {
      "id": "water-world",
      "type": "fill",
      "source": "world_low",
      "source-layer": "water",
      "minzoom": 0,
      "maxzoom": 6.5,
      "paint": {
        "fill-color": "#0a2846"
      }
    },
    {
      "id": "water-world-mid",
      "type": "fill",
      "source": "world_mid",
      "source-layer": "water",
      "minzoom": 6,
      "paint": {
        "fill-color": "#0a2846"
      }
    },
    {
      "id": "waterway-world",
      "type": "line",
      "source": "world_low",
      "source-layer": "waterway",
      "minzoom": 0,
      "maxzoom": 6.5,
      "paint": {
        "line-color": "#103457",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          0, 0.1, 6, 0.4
        ]
      }
    },
    {
      "id": "waterway-world-mid",
      "type": "line",
      "source": "world_mid",
      "source-layer": "waterway",
      "minzoom": 6,
      "paint": {
        "line-color": "#103457",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          6, 0.4, 10, 0.8
        ]
      }
    },
    {
      "id": "boundary-country-world",
      "type": "line",
      "source": "world_low",
      "source-layer": "boundary",
      "minzoom": 0,
      "maxzoom": 6.5,
      "filter": [
        "all",
        ["==", ["get", "admin_level"], 2],
        ["!=", ["get", "maritime"], 1]
      ],
      "paint": {
        "line-color": "#3b82f6",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          0, 0.4, 6, 1.2
        ],
        "line-opacity": [
          "interpolate", ["linear"], ["zoom"],
          0, 0.25, 3, 0.25, 6, 0.75
        ]
      }
    },
    {
      "id": "boundary-country-world-mid",
      "type": "line",
      "source": "world_mid",
      "source-layer": "boundary",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "admin_level"], 2],
        ["!=", ["get", "maritime"], 1]
      ],
      "paint": {
        "line-color": "#3b82f6",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          6, 1.2, 10, 2.0
        ],
        "line-opacity": [
          "interpolate", ["linear"], ["zoom"],
          6, 0.75, 10, 0.8
        ]
      }
    },
    {
      "id": "boundary-maritime-world",
      "type": "line",
      "source": "world_low",
      "source-layer": "boundary",
      "minzoom": 0,
      "maxzoom": 6.5,
      "filter": [
        "all",
        ["==", ["get", "admin_level"], 2],
        ["==", ["get", "maritime"], 1]
      ],
      "paint": {
        "line-color": "#3b82f6",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          0, 0.4, 6, 1.2
        ],
        "line-opacity": 0
      }
    },
    {
      "id": "boundary-maritime-world-mid",
      "type": "line",
      "source": "world_mid",
      "source-layer": "boundary",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "admin_level"], 2],
        ["==", ["get", "maritime"], 1]
      ],
      "paint": {
        "line-color": "#3b82f6",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          6, 1.2, 10, 2.0
        ],
        "line-opacity": 0
      }
    },
    {
      "id": "boundary-state-world",
      "type": "line",
      "source": "world_low",
      "source-layer": "boundary",
      "minzoom": 3,
      "maxzoom": 6.5,
      "filter": ["==", ["get", "admin_level"], 4],
      "paint": {
        "line-color": "#284a7c",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          0, 0.2, 6, 0.8
        ],
        "line-opacity": 0.6
      }
    },
    {
      "id": "boundary-state-world-mid",
      "type": "line",
      "source": "world_mid",
      "source-layer": "boundary",
      "minzoom": 6,
      "filter": ["==", ["get", "admin_level"], 4],
      "paint": {
        "line-color": "#284a7c",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          6, 0.8, 10, 1.2
        ],
        "line-opacity": 0.6
      }
    },
    {
      "id": "road-world",
      "type": "line",
      "source": "world_low",
      "source-layer": "transportation",
      "minzoom": 0,
      "maxzoom": 6.5,
      "filter": [
        "all",
        ["!=", ["get", "brunnel"], "tunnel"],
        ["!=", ["get", "brunnel"], "bridge"],
        ["match", ["get", "class"], ["motorway","trunk","primary","secondary"], true, false]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": [
          "match", ["get", "class"],
          "motorway", "#3a4657", "trunk", "#374251", "primary", "#34404f", "secondary", "#313b49", "#28313d"
        ],
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          0, 0.2, 6, 0.6
        ]
      }
    },
    {
      "id": "road-world-mid",
      "type": "line",
      "source": "world_mid",
      "source-layer": "transportation",
      "minzoom": 6,
      "filter": [
        "all",
        ["!=", ["get", "brunnel"], "tunnel"],
        ["!=", ["get", "brunnel"], "bridge"],
        ["match", ["get", "class"], ["motorway","trunk","primary","secondary"], true, false]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": [
          "match", ["get", "class"],
          "motorway", "#3a4657", "trunk", "#374251", "primary", "#34404f", "secondary", "#313b49", "#28313d"
        ],
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          6, 0.6, 10, 1.0
        ]
      }
    },
    {
      "id": "road-tunnel-casing",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 6,
      "filter": ["==", ["get", "brunnel"], "tunnel"],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "#0a0e13",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          10, 0.5, 12, 1.2, 14, 2.0
        ],
        "line-opacity": 0.7
      }
    },
    {
      "id": "road-tunnel",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 6,
      "filter": ["==", ["get", "brunnel"], "tunnel"],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": [
          "match", ["get", "class"],
          "motorway", "#364252", "trunk", "#323c4a", "primary", "#2f3947", "secondary", "#2b3441", "tertiary", "#29323e", "residential", "#27303b", "service", "#252d38", "#242b35"
        ],
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          10, 0.4, 12, 1.0, 14, 1.6
        ],
        "line-dasharray": [
          2,
          2
        ]
      }
    },
    {
      "id": "road-casing",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 6,
      "filter": [
        "all",
        ["!=", ["get", "brunnel"], "tunnel"],
        ["!=", ["get", "brunnel"], "bridge"],
        ["match", ["get", "class"], ["motorway", "trunk", "primary", "secondary", "tertiary", "residential", "service"], true, false]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "#0e131a",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          8, ["match", ["get", "class"], "motorway", 1.0, "trunk", 0.9, "primary", 0.8, "secondary", 0.7, "tertiary", 0.6, "residential", 0.5, "service", 0.3, 0.5],
          12, ["match", ["get", "class"], "motorway", 2.3, "trunk", 2.0, "primary", 1.7, "secondary", 1.5, "tertiary", 1.3, "residential", 1.1, "service", 0.6, 1.1],
          14, ["match", ["get", "class"], "motorway", 3.5, "trunk", 3.0, "primary", 2.5, "secondary", 2.2, "tertiary", 1.9, "residential", 1.6, "service", 0.9, 1.6]
        ]
      }
    },
    {
      "id": "paths",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 6,
      "filter": [
        "match", ["get", "class"],
        ["path", "track", "footway", "cycleway"],
        true,
        false
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "#25303b",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          12, 0.2, 14, 0.6
        ]
      }
    },
    {
      "id": "road-bridge-casing",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 6,
      "filter": ["==", ["get", "brunnel"], "bridge"],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "#0f1520",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          10, 0.6, 12, 1.3, 14, 2.2
        ]
      }
    },
    {
      "id": "road-bridge",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 6,
      "filter": ["==", ["get", "brunnel"], "bridge"],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": [
          "match", ["get", "class"], "motorway", "#3f4a5b", "trunk", "#3a4655", "primary", "#374252", "secondary", "#343e4c", "tertiary", "#303a47", "residential", "#2d3542", "#2a3240"
        ],
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          10, 0.5, 12, 1.1, 14, 1.8
        ]
      }
    },
    {
      "id": "railway",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 6,
      "filter": ["==", ["get", "class"], "rail"],
      "paint": {
        "line-color": "#222b36",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          10, 0.3, 14, 0.8
        ]
      }
    },
    {
      "id": "building",
      "type": "fill",
      "source": "us_high",
      "source-layer": "building",
      "minzoom": 6,
      "paint": {
        "fill-color": "#151a22",
        "fill-outline-color": "#0f141b",
        "fill-opacity": 0.9
      }
    },
    {
      "id": "landcover-us",
      "type": "fill",
      "source": "us_high",
      "source-layer": "landcover",
      "minzoom": 6,
      "paint": {
        "fill-color": [
          "match", ["get", "class"],
          "wood", "#0f141b", "grass", "#10161e", "scrub", "#10161e", "cropland", "#0f141b", "#0f141b"
        ],
        "fill-opacity": 0.6
      }
    },
    {
      "id": "landuse-us",
      "type": "fill",
      "source": "us_high",
      "source-layer": "landuse",
      "minzoom": 6,
      "paint": {
        "fill-color": [
          "match", ["get", "class"],
          "park", "#11161d", "cemetery", "#11161d", "pitch", "#121923", "stadium", "#121923", "residential", "#0e131a", "#0e131a"
        ],
        "fill-opacity": 0.6
      }
    },
    {
      "id": "water-us",
      "type": "fill",
      "source": "us_high",
      "source-layer": "water",
      "minzoom": 6,
      "paint": {
        "fill-color": "#0a2846"
      }
    },
    {
      "id": "waterway-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "waterway",
      "minzoom": 6,
      "paint": {
        "line-color": "#103457",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          6, 0.2, 12, 0.6, 15, 1.0
        ]
      }
    },
    {
      "id": "boundary-country-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "boundary",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "admin_level"], 2],
        ["!=", ["get", "maritime"], 1]
      ],
      "paint": {
        "line-color": "#3b82f6",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          6, 1.2, 10, 2.0, 15, 2.5
        ],
        "line-opacity": 0.8
      }
    },
    {
      "id": "boundary-maritime-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "boundary",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "admin_level"], 2],
        ["==", ["get", "maritime"], 1]
      ],
      "paint": {
        "line-color": "#3b82f6",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          6, 1.2, 10, 2.0, 15, 2.5
        ],
        "line-opacity": 0
      }
    },
    {
      "id": "boundary-state-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "boundary",
      "minzoom": 6,
      "filter": ["==", ["get", "admin_level"], 4],
      "paint": {
        "line-color": "#284a7c",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          6, 0.3, 8, 0.8, 12, 1.2, 15, 1.5
        ],
        "line-opacity": 0.6
      }
    },
    {
      "id": "building-us",
      "type": "fill",
      "source": "us_high",
      "source-layer": "building",
      "minzoom": 13,
      "paint": {
        "fill-color": "#151a22",
        "fill-outline-color": "#0f141b",
        "fill-opacity": 0.9
      }
    },
    {
      "id": "road-casing-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 6,
      "filter": [
        "all",
        ["!=", ["get", "brunnel"], "tunnel"],
        ["!=", ["get", "brunnel"], "bridge"],
        ["match", ["get", "class"], ["motorway","trunk","primary","secondary","tertiary","residential","service"], true, false]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "#0e131a",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          6, ["match", ["get", "class"], "motorway", 1.0, "trunk", 0.9, "primary", 0.8, "secondary", 0.7, "tertiary", 0.6, "residential", 0.5, "service", 0.3, 0.5],
          12, ["match", ["get", "class"], "motorway", 2.3, "trunk", 2.0, "primary", 1.7, "secondary", 1.5, "tertiary", 1.3, "residential", 1.1, "service", 0.6, 1.1],
          15, ["match", ["get", "class"], "motorway", 3.5, "trunk", 3.0, "primary", 2.5, "secondary", 2.2, "tertiary", 1.9, "residential", 1.6, "service", 0.9, 1.6]
        ]
      }
    },
    {
      "id": "road-us",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 6,
      "filter": [
        "all",
        ["!=", ["get", "brunnel"], "tunnel"],
        ["!=", ["get", "brunnel"], "bridge"],
        ["match", ["get", "class"], ["motorway","trunk","primary","secondary","tertiary","residential","service"], true, false]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": [
          "match", ["get", "class"],
          "motorway", "#3a4657", "trunk", "#374251", "primary", "#34404f", "secondary", "#313b49", "tertiary", "#2d3744", "residential", "#2a333f", "#28313d"
        ],
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          6, ["match", ["get", "class"], "motorway", 0.9, "trunk", 0.8, "primary", 0.7, "secondary", 0.6, "tertiary", 0.5, "residential", 0.4, "service", 0.2, 0.4],
          12, ["match", ["get", "class"], "motorway", 2.0, "trunk", 1.7, "primary", 1.4, "secondary", 1.2, "tertiary", 1.0, "residential", 0.8, "service", 0.5, 0.8],
          15, ["match", ["get", "class"], "motorway", 3.0, "trunk", 2.5, "primary", 2.0, "secondary", 1.7, "tertiary", 1.4, "residential", 1.1, "service", 0.8, 1.1]
        ]
      }
    },
    {
      "id": "road-other",
      "type": "line",
      "source": "us_high",
      "source-layer": "transportation",
      "minzoom": 14,
      "filter": [
        "all",
        ["!=", ["get", "brunnel"], "tunnel"],
        ["!=", ["get", "brunnel"], "bridge"],
        ["!", ["match", ["get", "class"], ["motorway", "trunk", "primary", "secondary", "tertiary", "residential", "service"], true, false]]
      ],
      "layout": {
        "line-cap": "round",
        "line-join": "round"
      },
      "paint": {
        "line-color": "#28313d",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          14, 0.3, 15, 0.5
        ]
      }
    },
    {
      "id": "road-label-major",
    "type": "symbol",
    "source": "us_high",
    "source-layer": "transportation_name",
    "minzoom": 8,
    "filter": [
      "all",
      ["!=", ["get", "brunnel"], "tunnel"],
      ["!=", ["get", "brunnel"], "bridge"],
      ["match", ["get", "class"], ["motorway", "trunk", "primary"], true, false],
      ["has", "name"]
    ],
    "layout": {
      "text-field": [
        "let",
        "name", ["coalesce", ["get", "name:en"], ["get", "name"], ""],
        [
          "let",
          "dirReplaced", [
            "case",
            ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
            ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
            ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
            ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
            ["var", "name"]
          ],
          [
            "let",
            "len", ["length", ["var", "dirReplaced"]],
            [
              "case",
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
              ["var", "dirReplaced"]
            ]
          ]
        ]
      ],
      "text-font": ["Noto Sans Regular"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        8, 9,
        12, 11,
        15, 13
      ],
      "symbol-placement": "line",
      "text-rotation-alignment": "map",
      "text-pitch-alignment": "viewport",
      "symbol-spacing": 150
    },
    "paint": {
      "text-color": "#7a8ba3",
      "text-halo-color": "#0b0f14",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.8
    }
  },
  {
    "id": "road-label-secondary",
    "type": "symbol",
    "source": "us_high",
    "source-layer": "transportation_name",
    "minzoom": 10,
    "filter": [
      "all",
      ["!=", ["get", "brunnel"], "tunnel"],
      ["!=", ["get", "brunnel"], "bridge"],
      ["==", ["get", "class"], "secondary"],
      ["has", "name"]
    ],
    "layout": {
      "text-field": [
        "let",
        "name", ["coalesce", ["get", "name:en"], ["get", "name"], ""],
        [
          "let",
          "dirReplaced", [
            "case",
            ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
            ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
            ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
            ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
            ["var", "name"]
          ],
          [
            "let",
            "len", ["length", ["var", "dirReplaced"]],
            [
              "case",
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
              ["var", "dirReplaced"]
            ]
          ]
        ]
      ],
      "text-font": ["Noto Sans Regular"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        10, 8,
        12, 10,
        15, 12
      ],
      "symbol-placement": "line",
      "text-rotation-alignment": "map",
      "text-pitch-alignment": "viewport",
      "symbol-spacing": 150
    },
    "paint": {
      "text-color": "#6b7a90",
      "text-halo-color": "#0b0f14",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.7
    }
  },
  {
    "id": "road-label-tertiary",
    "type": "symbol",
    "source": "us_high",
    "source-layer": "transportation_name",
    "minzoom": 12,
    "filter": [
      "all",
      ["!=", ["get", "brunnel"], "tunnel"],
      ["!=", ["get", "brunnel"], "bridge"],
      ["match", ["get", "class"], ["tertiary", "residential"], true, false],
      ["has", "name"]
    ],
    "layout": {
      "text-field": [
        "let",
        "name", ["coalesce", ["get", "name:en"], ["get", "name"], ""],
        [
          "let",
          "dirReplaced", [
            "case",
            ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
            ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
            ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
            ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
            ["var", "name"]
          ],
          [
            "let",
            "len", ["length", ["var", "dirReplaced"]],
            [
              "case",
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
              ["var", "dirReplaced"]
            ]
          ]
        ]
      ],
      "text-font": ["Noto Sans Regular"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        12, 8,
        15, 10
      ],
      "symbol-placement": "line",
      "text-rotation-alignment": "map",
      "text-pitch-alignment": "viewport",
      "symbol-spacing": 150
    },
    "paint": {
      "text-color": "#5d6b7d",
      "text-halo-color": "#0b0f14",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.6
    }
  },
  {
    "id": "road-label-other",
    "type": "symbol",
    "source": "us_high",
    "source-layer": "transportation_name",
    "minzoom": 14,
    "filter": [
      "all",
      ["!=", ["get", "brunnel"], "tunnel"],
      ["!=", ["get", "brunnel"], "bridge"],
      ["!", ["match", ["get", "class"], ["motorway", "trunk", "primary", "secondary", "tertiary", "residential"], true, false]],
      ["has", "name"]
    ],
    "layout": {
      "text-field": [
        "let",
        "name", ["coalesce", ["get", "name:en"], ["get", "name"], ""],
        [
          "let",
          "dirReplaced", [
            "case",
            ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
            ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
            ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
            ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
            ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
            ["var", "name"]
          ],
          [
            "let",
            "len", ["length", ["var", "dirReplaced"]],
            [
              "case",
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
              ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
              ["var", "dirReplaced"]
            ]
          ]
        ]
      ],
      "text-font": ["Noto Sans Regular"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        14, 7,
        15, 8
      ],
      "symbol-placement": "line",
      "text-rotation-alignment": "map",
      "text-pitch-alignment": "viewport",
      "symbol-spacing": 150
    },
    "paint": {
      "text-color": "#5d6b7d",
      "text-halo-color": "#0b0f14",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.5
    }
  },
  {
    "id": "marine-label-world-labels-place-ocean",
    "type": "symbol",
    "source": "world_labels",
    "source-layer": "place",
    "minzoom": 1,
    "maxzoom": 10,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ],
      ["==", ["get", "class"], "ocean"]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        1, 11,
        3, 16,
        6, 22,
        10, 26
      ],
      "symbol-placement": "point",
      "text-padding": 10
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 2,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "marine-label-world-labels-place",
    "type": "symbol",
    "source": "world_labels",
    "source-layer": "place",
    "minzoom": 4,
    "maxzoom": 10,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ],
      [
        "any",
        ["match", ["get", "class"], ["sea", "gulf", "bay"], true, false],
        ["==", ["get", "class"], "lake"]
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        4, ["match", ["get", "class"], "sea", 10, "gulf", 8, "bay", 6, "lake", 9, 7],
        6, ["match", ["get", "class"], "sea", 15, "gulf", 11, "bay", 9, "lake", 13, 11],
        10, ["match", ["get", "class"], "sea", 25, "gulf", 20, "bay", 17, "lake", 23, 20]
      ],
      "symbol-placement": "point",
      "text-padding": 10
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 2,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "water-label-world-labels-watername-ocean",
    "type": "symbol",
    "source": "world_labels",
    "source-layer": "water_name",
    "minzoom": 1,
    "maxzoom": 10,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ],
      [
        "let",
        "name", ["coalesce", ["get", "name:en"], ["get", "name"], ""],
        [
          "any",
          ["in", "Ocean", ["var", "name"]],
          ["in", "ocean", ["var", "name"]]
        ]
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        1, 11,
        3, 16,
        6, 22,
        10, 26
      ],
      "symbol-placement": "point",
      "text-padding": 8
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "water-label-world-labels-watername",
    "type": "symbol",
    "source": "world_labels",
    "source-layer": "water_name",
    "minzoom": 4,
    "maxzoom": 10,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ],
      [
        "let",
        "name", ["coalesce", ["get", "name:en"], ["get", "name"], ""],
        [
          "all",
          ["!", ["in", "Ocean", ["var", "name"]]],
          ["!", ["in", "ocean", ["var", "name"]]]
        ]
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        4, [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"], ""],
          [
            "case",
            ["has", "rank"],
            [
              "case",
              ["<=", ["get", "rank"], 1], 13,
              ["<=", ["get", "rank"], 2], 11,
              ["<=", ["get", "rank"], 3], 10,
              ["<=", ["get", "rank"], 4], 9,
              ["<=", ["get", "rank"], 6], 8,
              7
            ],
            [
              "case",
              ["in", "Sea", ["var", "name"]], 11,
              ["in", "sea", ["var", "name"]], 11,
              ["in", "Gulf", ["var", "name"]], 10,
              ["in", "gulf", ["var", "name"]], 10,
              ["in", "Bay", ["var", "name"]], 9,
              ["in", "bay", ["var", "name"]], 9,
              ["==", ["get", "class"], "bay"], 9,
              ["==", ["get", "class"], "lake"], 10,
              8
            ]
          ]
        ],
        6, [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"], ""],
          [
            "case",
            ["has", "rank"],
            [
              "case",
              ["<=", ["get", "rank"], 1], 26,
              ["<=", ["get", "rank"], 2], 23,
              ["<=", ["get", "rank"], 3], 21,
              ["<=", ["get", "rank"], 4], 18,
              ["<=", ["get", "rank"], 6], 16,
              13
            ],
            [
              "case",
              ["in", "Sea", ["var", "name"]], 21,
              ["in", "sea", ["var", "name"]], 21,
              ["in", "Gulf", ["var", "name"]], 18,
              ["in", "gulf", ["var", "name"]], 18,
              ["in", "Bay", ["var", "name"]], 16,
              ["in", "bay", ["var", "name"]], 16,
              ["==", ["get", "class"], "bay"], 16,
              ["==", ["get", "class"], "lake"], 22,
              17
            ]
          ]
        ],
        10, [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"], ""],
          [
            "case",
            ["has", "rank"],
            [
              "case",
              ["<=", ["get", "rank"], 1], 31,
              ["<=", ["get", "rank"], 2], 28,
              ["<=", ["get", "rank"], 3], 25,
              ["<=", ["get", "rank"], 4], 23,
              ["<=", ["get", "rank"], 6], 20,
              18
            ],
            [
              "case",
              ["in", "Sea", ["var", "name"]], 26,
              ["in", "sea", ["var", "name"]], 26,
              ["in", "Gulf", ["var", "name"]], 23,
              ["in", "gulf", ["var", "name"]], 23,
              ["in", "Bay", ["var", "name"]], 20,
              ["in", "bay", ["var", "name"]], 20,
              ["==", ["get", "class"], "bay"], 20,
              ["==", ["get", "class"], "lake"], 27,
              22
            ]
          ]
        ]
      ],
      "symbol-placement": "point",
      "text-padding": 8
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "marine-label-world-watername-ocean",
    "type": "symbol",
    "source": "world_low",
    "source-layer": "water_name_ocean",
    "minzoom": 1,
    "maxzoom": 6.5,
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"], ["get", "name_int"], ""],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        1, 14,
        3, 18,
        6, 24
      ],
      "symbol-placement": "point",
      "text-padding": 10
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 2,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "marine-label-world-all-watername",
    "type": "symbol",
    "source": "world_low",
    "source-layer": "water_name",
    "minzoom": 1,
    "maxzoom": 6.5,
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"], ["get", "name_int"], ""],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        1, 14,
        3, 18,
        6, 24
      ],
      "symbol-placement": "point",
      "text-padding": 10
    },
    "paint": {
      "text-color": "#ff00ff",
      "text-halo-color": "#ffffff",
      "text-halo-width": 2,
      "text-halo-blur": 1,
      "text-opacity": 1
    }
  },
  {
    "id": "marine-label-world-watername",
    "type": "symbol",
    "source": "world_low",
    "source-layer": "water_name",
    "minzoom": 1,
    "maxzoom": 6.5,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ],
      [
        "case",
        ["has", "class"],
        ["match", ["get", "class"], ["ocean", "sea", "gulf", "bay"], true, false],
        true
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        1, 14,
        3, 18,
        6, 24
      ],
      "symbol-placement": "point",
      "text-padding": 10
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 2,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "marine-label-world",
    "type": "symbol",
    "source": "world_low",
    "source-layer": "place",
    "minzoom": 1,
    "maxzoom": 6.5,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ],
      [
        "any",
        ["match", ["get", "class"], ["ocean", "sea", "gulf", "bay"], true, false],
        ["==", ["get", "class"], "lake"]
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        1, 14,
        3, 18,
        6, 24
      ],
      "symbol-placement": "point",
      "text-padding": 10
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 2,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "water-label-world-major",
    "type": "symbol",
    "source": "world_low",
    "source-layer": "water_name",
    "minzoom": 2,
    "maxzoom": 6.5,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        2, 12,
        4, 14,
        6, 18
      ],
      "symbol-placement": "point",
      "text-padding": 8
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "water-label-world",
    "type": "symbol",
    "source": "world_low",
    "source-layer": "water_name",
    "minzoom": 4,
    "maxzoom": 6.5,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ],
      [
        "case",
        ["has", "rank"], [">", ["get", "rank"], 2],
        false
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        4, 10,
        6, 14
      ],
      "symbol-placement": "point",
      "text-padding": 8
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "marine-label-world-mid-watername-ocean",
    "type": "symbol",
    "source": "world_mid",
    "source-layer": "water_name_ocean",
    "minzoom": 6,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        6, 20,
        8, 24,
        10, 28
      ],
      "symbol-placement": "point",
      "text-padding": 10
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 2,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "marine-label-world-mid-watername",
    "type": "symbol",
    "source": "world_mid",
    "source-layer": "water_name",
    "minzoom": 6,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ],
      [
        "case",
        ["has", "class"],
        ["match", ["get", "class"], ["ocean", "sea", "gulf", "bay"], true, false],
        true
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        6, 20,
        8, 24,
        10, 28
      ],
      "symbol-placement": "point",
      "text-padding": 10
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 2,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "marine-label-world-mid",
    "type": "symbol",
    "source": "world_mid",
    "source-layer": "place",
    "minzoom": 6,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ],
      [
        "any",
        ["match", ["get", "class"], ["ocean", "sea", "gulf", "bay"], true, false],
        ["==", ["get", "class"], "lake"]
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        6, 20,
        8, 24,
        10, 28
      ],
      "symbol-placement": "point",
      "text-padding": 10
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 2,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "water-label-world-mid-major",
    "type": "symbol",
    "source": "world_mid",
    "source-layer": "water_name",
    "minzoom": 6,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        6, 16,
        8, 18,
        10, 22
      ],
      "symbol-placement": "point",
      "text-padding": 8
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "water-label-world-mid",
    "type": "symbol",
    "source": "world_mid",
    "source-layer": "water_name",
    "minzoom": 7,
    "filter": [
      "all",
      ["has", "name"],
      [
        "case",
        ["has", "rank"], [">", ["get", "rank"], 3],
        false
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        7, 12,
        10, 16
      ],
      "symbol-placement": "point",
      "text-padding": 8
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "marine-label-us-watername-ocean",
    "type": "symbol",
    "source": "us_high",
    "source-layer": "water_name_ocean",
    "minzoom": 4,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        4, 16,
        8, 20,
        12, 26,
        15, 32
      ],
      "symbol-placement": "point",
      "text-padding": 10
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 2,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "marine-label-us-watername",
    "type": "symbol",
    "source": "us_high",
    "source-layer": "water_name",
    "minzoom": 4,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ],
      [
        "case",
        ["has", "class"],
        ["match", ["get", "class"], ["ocean", "sea", "gulf", "bay"], true, false],
        true
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        4, 16,
        8, 20,
        12, 26,
        15, 32
      ],
      "symbol-placement": "point",
      "text-padding": 10
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 2,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "marine-label-us",
    "type": "symbol",
    "source": "us_high",
    "source-layer": "place",
    "minzoom": 4,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ],
      ["match", ["get", "class"], ["ocean", "sea", "gulf", "bay", "lake"], true, false]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        4, 16,
        8, 20,
        12, 26,
        15, 32
      ],
      "symbol-placement": "point",
      "text-padding": 10
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 2,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "water-label-us-place",
    "type": "symbol",
    "source": "us_high",
    "source-layer": "place",
    "minzoom": 6,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ],
      ["==", ["get", "class"], "lake"]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        6, 14,
        10, 18,
        15, 24
      ],
      "symbol-placement": "point",
      "text-padding": 8
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "water-label-us-major",
    "type": "symbol",
    "source": "us_high",
    "source-layer": "water_name",
    "minzoom": 6,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ],
      [
        "case",
        ["has", "rank"], ["<=", ["get", "rank"], 4],
        true
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        6, ["let", "name", ["coalesce", ["get", "name:en"], ["get", "name"], ""], ["case", ["in", "Pond", ["var", "name"]], 6, ["in", "pond", ["var", "name"]], 6, ["in", "Pool", ["var", "name"]], 6, ["in", "pool", ["var", "name"]], 6, ["in", "Puddle", ["var", "name"]], 5, ["in", "puddle", ["var", "name"]], 5, ["case", ["has", "rank"], ["case", ["<=", ["get", "rank"], 1], 16, ["<=", ["get", "rank"], 2], 14, ["<=", ["get", "rank"], 3], 12, ["<=", ["get", "rank"], 4], 10, 8], ["case", ["in", "Reservoir", ["var", "name"]], 11, ["in", "reservoir", ["var", "name"]], 11, 10]]]],
        10, ["let", "name", ["coalesce", ["get", "name:en"], ["get", "name"], ""], ["case", ["in", "Pond", ["var", "name"]], 6, ["in", "pond", ["var", "name"]], 6, ["in", "Pool", ["var", "name"]], 6, ["in", "pool", ["var", "name"]], 6, ["in", "Puddle", ["var", "name"]], 5, ["in", "puddle", ["var", "name"]], 5, ["case", ["has", "rank"], ["case", ["<=", ["get", "rank"], 1], 22, ["<=", ["get", "rank"], 2], 19, ["<=", ["get", "rank"], 3], 16, ["<=", ["get", "rank"], 4], 13, 10], ["case", ["in", "Reservoir", ["var", "name"]], 14, ["in", "reservoir", ["var", "name"]], 14, 13]]]],
        12, ["let", "name", ["coalesce", ["get", "name:en"], ["get", "name"], ""], ["case", ["in", "Pond", ["var", "name"]], 7, ["in", "pond", ["var", "name"]], 7, ["in", "Pool", ["var", "name"]], 7, ["in", "pool", ["var", "name"]], 7, ["in", "Puddle", ["var", "name"]], 6, ["in", "puddle", ["var", "name"]], 6, ["case", ["has", "rank"], ["case", ["<=", ["get", "rank"], 1], 26, ["<=", ["get", "rank"], 2], 23, ["<=", ["get", "rank"], 3], 20, ["<=", ["get", "rank"], 4], 17, 13], ["case", ["in", "Reservoir", ["var", "name"]], 18, ["in", "reservoir", ["var", "name"]], 18, 17]]]],
        15, ["let", "name", ["coalesce", ["get", "name:en"], ["get", "name"], ""], ["case", ["in", "Pond", ["var", "name"]], 8, ["in", "pond", ["var", "name"]], 8, ["in", "Pool", ["var", "name"]], 8, ["in", "pool", ["var", "name"]], 8, ["in", "Puddle", ["var", "name"]], 7, ["in", "puddle", ["var", "name"]], 7, ["case", ["has", "rank"], ["case", ["<=", ["get", "rank"], 1], 30, ["<=", ["get", "rank"], 2], 26, ["<=", ["get", "rank"], 3], 22, ["<=", ["get", "rank"], 4], 18, 14], ["case", ["in", "Reservoir", ["var", "name"]], 19, ["in", "reservoir", ["var", "name"]], 19, 18]]]]
      ],
      "symbol-placement": "point",
      "text-padding": 8
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "water-label-us",
    "type": "symbol",
    "source": "us_high",
    "source-layer": "water_name",
    "minzoom": 10,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ],
      [
        "case",
        ["has", "rank"], [">", ["get", "rank"], 4],
        false
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        10, 11,
        12, 14,
        15, 18
      ],
      "symbol-placement": "point",
      "text-padding": 8
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.9
    }
  },
  {
    "id": "waterway-label-world",
    "type": "symbol",
    "source": "world_low",
    "source-layer": "waterway",
    "minzoom": 6,
    "maxzoom": 6.5,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        6, ["match", ["get", "class"], "river", 10, "canal", 8, "stream", 7, "ditch", 6, "drain", 6, 7],
        6.5, ["match", ["get", "class"], "river", 12, "canal", 10, "stream", 8, "ditch", 7, "drain", 7, 8]
      ],
      "symbol-placement": "line",
      "text-rotation-alignment": "map",
      "text-pitch-alignment": "viewport",
      "symbol-spacing": 200
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.85
    }
  },
  {
    "id": "waterway-label-world-mid",
    "type": "symbol",
    "source": "world_mid",
    "source-layer": "waterway",
    "minzoom": 6,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        6, ["match", ["get", "class"], "river", 12, "canal", 10, "stream", 9, "ditch", 8, "drain", 8, 9],
        10, ["match", ["get", "class"], "river", 16, "canal", 13, "stream", 11, "ditch", 10, "drain", 10, 11]
      ],
      "symbol-placement": "line",
      "text-rotation-alignment": "map",
      "text-pitch-alignment": "viewport",
      "symbol-spacing": 200
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.85
    }
  },
  {
    "id": "waterway-label-us",
    "type": "symbol",
    "source": "us_high",
    "source-layer": "waterway",
    "minzoom": 10,
    "filter": [
      "all",
      [
        "any",
        ["has", "name"],
        ["has", "name:en"]
      ]
    ],
    "layout": {
      "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
      "text-font": ["Noto Sans Italic"],
      "text-size": [
        "interpolate", ["linear"], ["zoom"],
        10, ["match", ["get", "class"], "river", 10, "canal", 8, "stream", 7, "ditch", 6, "drain", 6, 7],
        12, ["match", ["get", "class"], "river", 12, "canal", 10, "stream", 8, "ditch", 7, "drain", 7, 8],
        15, ["match", ["get", "class"], "river", 14, "canal", 11, "stream", 9, "ditch", 8, "drain", 8, 9]
      ],
      "symbol-placement": "line",
      "text-rotation-alignment": "map",
      "text-pitch-alignment": "viewport",
      "symbol-spacing": 200
    },
    "paint": {
      "text-color": "#5b8db8",
      "text-halo-color": "#0a2846",
      "text-halo-width": 1.5,
      "text-halo-blur": 1,
      "text-opacity": 0.85
    }
  },
    {
      "id": "continent-label",
      "type": "symbol",
      "source": "world_low",
      "source-layer": "place",
      "minzoom": 0,
      "maxzoom": 6.5,
      "filter": [
        "all",
        ["==", ["get", "class"], "continent"],
        ["<=", ["zoom"], 2.5],
        ["!=", ["coalesce", ["get", "name:en"], ["get", "name"]], "America"]
      ],
      "layout": {
        "text-field": [
          "case",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "North America"],
          "NORTH\nAMERICA",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "South America"],
          "SOUTH\nAMERICA",
          ["upcase", ["coalesce", ["get", "name:en"], ["get", "name"]]]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          0, 12, 2.5, 16
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.1,
        "text-offset": [
          "case",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "North America"],
          ["literal", [2.0, 4.0]],
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "South America"],
          ["literal", [0, -2.0]],
          ["literal", [0, 0]]
        ]
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 2,
        "text-halo-blur": 1,
        "text-opacity": 0.75
      }
    },
    {
      "id": "country-label-world-mid",
      "type": "symbol",
      "source": "world_mid",
      "source-layer": "place",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "class"], "country"],
        [">", ["zoom"], 2.5]
      ],
      "layout": {
        "text-field": [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"]],
          [
            "let",
            "dirReplaced", [
              "case",
              ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
              ["var", "name"]
            ],
            [
              "let",
              "len", ["length", ["var", "dirReplaced"]],
              [
                "case",
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
                ["var", "dirReplaced"]
              ]
            ]
          ]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          6, 16, 10, 20
        ],
        "text-transform": "uppercase",
        "text-letter-spacing": 0.1
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 2,
        "text-halo-blur": 1,
        "text-opacity": 0.75
      }
    },
    {
      "id": "state-label-us-world",
      "type": "symbol",
      "source": "world_low",
      "source-layer": "place",
      "minzoom": 3.33,
      "maxzoom": 6.5,
      "filter": [
        "all",
        ["==", ["get", "class"], "state"],
        ["match", ["coalesce", ["get", "name:en"], ["get", "name"]],
          "Alabama", true, "Alaska", true, "Arizona", true, "Arkansas", true,
          "California", true, "Colorado", true, "Connecticut", true, "Delaware", true,
          "Florida", true, "Georgia", true, "Hawaii", true, "Idaho", true,
          "Illinois", true, "Indiana", true, "Iowa", true, "Kansas", true,
          "Kentucky", true, "Louisiana", true, "Maine", true, "Maryland", true,
          "Massachusetts", true, "Michigan", true, "Minnesota", true, "Mississippi", true,
          "Missouri", true, "Montana", true, "Nebraska", true, "Nevada", true,
          "New Hampshire", true, "New Jersey", true, "New Mexico", true, "New York", true,
          "North Carolina", true, "North Dakota", true, "Ohio", true, "Oklahoma", true,
          "Oregon", true, "Pennsylvania", true, "Rhode Island", true, "South Carolina", true,
          "South Dakota", true, "Tennessee", true, "Texas", true, "Utah", true,
          "Vermont", true, "Virginia", true, "Washington", true, "West Virginia", true,
          "Wisconsin", true, "Wyoming", true,
          false
        ]
      ],
      "layout": {
        "text-field": [
          "case",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "New York"], "NEW\nYORK",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "New Hampshire"], "NEW\nHAMPSHIRE",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "New Jersey"], "NEW\nJERSEY",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "New Mexico"], "NEW\nMEXICO",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "North Carolina"], "NORTH\nCAROLINA",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "North Dakota"], "NORTH\nDAKOTA",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "South Carolina"], "SOUTH\nCAROLINA",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "South Dakota"], "SOUTH\nDAKOTA",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "West Virginia"], "WEST\nVIRGINIA",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "Rhode Island"], "RHODE\nISLAND",
          ["upcase", ["coalesce", ["get", "name:en"], ["get", "name"]]]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          3.33, 8, 6, 12
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.05
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 2,
        "text-halo-blur": 1,
        "text-opacity": 0.5
      }
    },
    {
      "id": "state-label-world-mid",
      "type": "symbol",
      "source": "world_mid",
      "source-layer": "place",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "class"], "state"],
        ["match", ["coalesce", ["get", "name:en"], ["get", "name"]],
          "Alabama", false, "Alaska", false, "Arizona", false, "Arkansas", false,
          "California", false, "Colorado", false, "Connecticut", false, "Delaware", false,
          "Florida", false, "Georgia", false, "Hawaii", false, "Idaho", false,
          "Illinois", false, "Indiana", false, "Iowa", false, "Kansas", false,
          "Kentucky", false, "Louisiana", false, "Maine", false, "Maryland", false,
          "Massachusetts", false, "Michigan", false, "Minnesota", false, "Mississippi", false,
          "Missouri", false, "Montana", false, "Nebraska", false, "Nevada", false,
          "New Hampshire", false, "New Jersey", false, "New Mexico", false, "New York", false,
          "North Carolina", false, "North Dakota", false, "Ohio", false, "Oklahoma", false,
          "Oregon", false, "Pennsylvania", false, "Rhode Island", false, "South Carolina", false,
          "South Dakota", false, "Tennessee", false, "Texas", false, "Utah", false,
          "Vermont", false, "Virginia", false, "Washington", false, "West Virginia", false,
          "Wisconsin", false, "Wyoming", false,
          true
        ]
      ],
      "layout": {
        "text-field": ["upcase", ["coalesce", ["get", "name:en"], ["get", "name"]]],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          6, 12, 10, 16
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.1
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 2,
        "text-halo-blur": 1,
        "text-opacity": 0.5
      }
    },
    {
      "id": "state-label-world",
      "type": "symbol",
      "source": "world_low",
      "source-layer": "place",
      "minzoom": 4,
      "maxzoom": 6.5,
      "filter": [
        "all",
        ["==", ["get", "class"], "state"],
        ["match", ["coalesce", ["get", "name:en"], ["get", "name"]],
          "Alabama", false, "Alaska", false, "Arizona", false, "Arkansas", false,
          "California", false, "Colorado", false, "Connecticut", false, "Delaware", false,
          "Florida", false, "Georgia", false, "Hawaii", false, "Idaho", false,
          "Illinois", false, "Indiana", false, "Iowa", false, "Kansas", false,
          "Kentucky", false, "Louisiana", false, "Maine", false, "Maryland", false,
          "Massachusetts", false, "Michigan", false, "Minnesota", false, "Mississippi", false,
          "Missouri", false, "Montana", false, "Nebraska", false, "Nevada", false,
          "New Hampshire", false, "New Jersey", false, "New Mexico", false, "New York", false,
          "North Carolina", false, "North Dakota", false, "Ohio", false, "Oklahoma", false,
          "Oregon", false, "Pennsylvania", false, "Rhode Island", false, "South Carolina", false,
          "South Dakota", false, "Tennessee", false, "Texas", false, "Utah", false,
          "Vermont", false, "Virginia", false, "Washington", false, "West Virginia", false,
          "Wisconsin", false, "Wyoming", false,
          true
        ]
      ],
      "layout": {
        "text-field": ["upcase", ["coalesce", ["get", "name:en"], ["get", "name"]]],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          4, 8, 6, 12
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.1
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 2,
        "text-halo-blur": 1,
        "text-opacity": 0.5
      }
    },
    {
      "id": "city-label-world-rank1-2",
      "type": "symbol",
      "source": "world_low",
      "source-layer": "place",
      "minzoom": 1,
      "maxzoom": 6.5,
      "filter": [
        "all",
        ["==", ["get", "class"], "city"],
        ["<=", ["coalesce", ["get", "rank"], 10], 2]
      ],
      "layout": {
        "text-field": [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"]],
          [
            "let",
            "dirReplaced", [
              "case",
              ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
              ["var", "name"]
            ],
            [
              "let",
              "len", ["length", ["var", "dirReplaced"]],
              [
                "case",
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
                ["var", "dirReplaced"]
              ]
            ]
          ]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          1, ["case", ["==", ["coalesce", ["get", "rank"], 1], 1], 10.8, 9],
          3, ["case", ["==", ["coalesce", ["get", "rank"], 1], 1], 14.4, 12],
          6, ["case", ["==", ["coalesce", ["get", "rank"], 1], 1], 16.8, 14]
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.05
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 1.5,
        "text-halo-blur": 1,
        "text-opacity": 0.75
      }
    },
    {
      "id": "city-label-world-rank3-6",
      "type": "symbol",
      "source": "world_low",
      "source-layer": "place",
      "minzoom": 4,
      "maxzoom": 6.5,
      "filter": [
        "all",
        ["==", ["get", "class"], "city"],
        [">=", ["coalesce", ["get", "rank"], 10], 3],
        ["<=", ["coalesce", ["get", "rank"], 10], 6]
      ],
      "layout": {
        "text-field": [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"]],
          [
            "let",
            "dirReplaced", [
              "case",
              ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
              ["var", "name"]
            ],
            [
              "let",
              "len", ["length", ["var", "dirReplaced"]],
              [
                "case",
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
                ["var", "dirReplaced"]
              ]
            ]
          ]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          4, [
            "case",
            ["all", [">=", ["coalesce", ["get", "rank"], 6], 3], ["<=", ["coalesce", ["get", "rank"], 6], 4]], 10.8,
            ["all", [">=", ["coalesce", ["get", "rank"], 6], 5], ["<=", ["coalesce", ["get", "rank"], 6], 6]], 9,
            9
          ],
          6, [
            "case",
            ["all", [">=", ["coalesce", ["get", "rank"], 6], 3], ["<=", ["coalesce", ["get", "rank"], 6], 4]], 13.2,
            ["all", [">=", ["coalesce", ["get", "rank"], 6], 5], ["<=", ["coalesce", ["get", "rank"], 6], 6]], 11,
            11
          ]
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.05
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 1.5,
        "text-halo-blur": 1,
        "text-opacity": 0.7
      }
    },
    {
      "id": "country-label-world",
      "type": "symbol",
      "source": "world_low",
      "source-layer": "place",
      "minzoom": 0,
      "maxzoom": 6.5,
      "filter": [
        "all",
        ["==", ["get", "class"], "country"],
        [">", ["zoom"], 2.5]
      ],
      "layout": {
        "text-field": [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"]],
          [
            "let",
            "dirReplaced", [
              "case",
              ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
              ["var", "name"]
            ],
            [
              "let",
              "len", ["length", ["var", "dirReplaced"]],
              [
                "case",
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
                ["var", "dirReplaced"]
              ]
            ]
          ]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          2.5, 10, 3, 12, 6, 16
        ],
        "text-transform": "uppercase",
        "text-letter-spacing": 0.1
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 2,
        "text-halo-blur": 1,
        "text-opacity": 0.75
      }
    },
    {
      "id": "city-label-world-mid-rank1-2",
      "type": "symbol",
      "source": "world_mid",
      "source-layer": "place",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "class"], "city"],
        ["<=", ["coalesce", ["get", "rank"], 10], 2]
      ],
      "layout": {
        "text-field": [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"]],
          [
            "let",
            "dirReplaced", [
              "case",
              ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
              ["var", "name"]
            ],
            [
              "let",
              "len", ["length", ["var", "dirReplaced"]],
              [
                "case",
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
                ["var", "dirReplaced"]
              ]
            ]
          ]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          6, [
            "max",
            ["case", ["==", ["coalesce", ["get", "rank"], 1], 1], 20, 17],
            ["case", ["has", "capital"], 12, 0]
          ],
          7, [
            "max",
            ["case", ["==", ["coalesce", ["get", "rank"], 1], 1], 22, 19],
            ["case", ["has", "capital"], 14, 0]
          ],
          10, [
            "max",
            ["case", ["==", ["coalesce", ["get", "rank"], 1], 1], 31, 26],
            ["case", ["has", "capital"], 14, 0]
          ],
          12, [
            "max",
            ["case", ["==", ["coalesce", ["get", "rank"], 1], 1], 35, 30],
            ["case", ["has", "capital"], 14, 0]
          ]
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.05
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 1.5,
        "text-halo-blur": 1,
        "text-opacity": 0.75
      }
    },
    {
      "id": "city-label-world-mid-rank3-6",
      "type": "symbol",
      "source": "world_mid",
      "source-layer": "place",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "class"], "city"],
        [">=", ["coalesce", ["get", "rank"], 10], 3],
        ["<=", ["coalesce", ["get", "rank"], 10], 6]
      ],
      "layout": {
        "text-field": [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"]],
          [
            "let",
            "dirReplaced", [
              "case",
              ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
              ["var", "name"]
            ],
            [
              "let",
              "len", ["length", ["var", "dirReplaced"]],
              [
                "case",
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
                ["var", "dirReplaced"]
              ]
            ]
          ]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          6, [
            "max",
            [
              "case",
              ["all", [">=", ["coalesce", ["get", "rank"], 6], 3], ["<=", ["coalesce", ["get", "rank"], 6], 4]], 13.2,
              ["all", [">=", ["coalesce", ["get", "rank"], 6], 5], ["<=", ["coalesce", ["get", "rank"], 6], 6]], 11,
              11
            ],
            ["case", ["has", "capital"], 12, 0]
          ],
          7, [
            "max",
            [
              "case",
              ["all", [">=", ["coalesce", ["get", "rank"], 6], 3], ["<=", ["coalesce", ["get", "rank"], 6], 4]], 15,
              ["all", [">=", ["coalesce", ["get", "rank"], 6], 5], ["<=", ["coalesce", ["get", "rank"], 6], 6]], 13,
              13
            ],
            ["case", ["has", "capital"], 14, 0]
          ],
          10, [
            "max",
            [
              "case",
              ["all", [">=", ["coalesce", ["get", "rank"], 6], 3], ["<=", ["coalesce", ["get", "rank"], 6], 4]], 26,
              ["all", [">=", ["coalesce", ["get", "rank"], 6], 5], ["<=", ["coalesce", ["get", "rank"], 6], 6]], 22,
              22
            ],
            ["case", ["has", "capital"], 14, 0]
          ],
          12, [
            "max",
            [
              "case",
              ["all", [">=", ["coalesce", ["get", "rank"], 6], 3], ["<=", ["coalesce", ["get", "rank"], 6], 4]], 28,
              ["all", [">=", ["coalesce", ["get", "rank"], 6], 5], ["<=", ["coalesce", ["get", "rank"], 6], 6]], 24,
              24
            ],
            ["case", ["has", "capital"], 14, 0]
          ]
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.05
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 1.5,
        "text-halo-blur": 1,
        "text-opacity": 0.7
      }
    },
    {
      "id": "city-label-world-mid-rank7-10",
      "type": "symbol",
      "source": "world_mid",
      "source-layer": "place",
      "minzoom": 7,
      "filter": [
        "all",
        ["==", ["get", "class"], "city"],
        [">=", ["coalesce", ["get", "rank"], 10], 7],
        ["<=", ["coalesce", ["get", "rank"], 10], 10]
      ],
      "layout": {
        "text-field": [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"]],
          [
            "let",
            "dirReplaced", [
              "case",
              ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
              ["var", "name"]
            ],
            [
              "let",
              "len", ["length", ["var", "dirReplaced"]],
              [
                "case",
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
                ["var", "dirReplaced"]
              ]
            ]
          ]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          7, [
            "max",
            [
              "case",
              ["all", [">=", ["coalesce", ["get", "rank"], 10], 7], ["<=", ["coalesce", ["get", "rank"], 10], 8]], 14,
              ["all", [">=", ["coalesce", ["get", "rank"], 10], 9], ["<=", ["coalesce", ["get", "rank"], 10], 10]], 12,
              12
            ],
            ["case", ["has", "capital"], 14, 0]
          ],
          8, [
            "max",
            [
              "case",
              ["all", [">=", ["coalesce", ["get", "rank"], 10], 7], ["<=", ["coalesce", ["get", "rank"], 10], 8]], 16,
              ["all", [">=", ["coalesce", ["get", "rank"], 10], 9], ["<=", ["coalesce", ["get", "rank"], 10], 10]], 13,
              13
            ],
            ["case", ["has", "capital"], 14, 0]
          ],
          10, [
            "max",
            [
              "case",
              ["all", [">=", ["coalesce", ["get", "rank"], 10], 7], ["<=", ["coalesce", ["get", "rank"], 10], 8]], 21,
              ["all", [">=", ["coalesce", ["get", "rank"], 10], 9], ["<=", ["coalesce", ["get", "rank"], 10], 10]], 17,
              17
            ],
            ["case", ["has", "capital"], 14, 0]
          ],
          12, [
            "max",
            [
              "case",
              ["all", [">=", ["coalesce", ["get", "rank"], 10], 7], ["<=", ["coalesce", ["get", "rank"], 10], 8]], 24,
              ["all", [">=", ["coalesce", ["get", "rank"], 10], 9], ["<=", ["coalesce", ["get", "rank"], 10], 10]], 20,
              20
            ],
            ["case", ["has", "capital"], 14, 0]
          ]
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.05
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 1.5,
        "text-halo-blur": 1,
        "text-opacity": 0.65
      }
    },
    {
      "id": "city-label-world-mid-all",
      "type": "symbol",
      "source": "world_mid",
      "source-layer": "place",
      "minzoom": 6,
      "filter": [
        "all",
        [
          "match", ["get", "class"],
          ["city", "town", "village", "hamlet"],
          true,
          false
        ],
        [
          "case",
          ["==", ["get", "class"], "village"],
          [
            "case",
            ["has", "rank"],
            ["<=", ["get", "rank"], 10],
            true
          ],
          true
        ]
      ],
      "layout": {
        "text-field": [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"]],
          [
            "let",
            "dirReplaced", [
              "case",
              ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
              ["var", "name"]
            ],
            [
              "let",
              "len", ["length", ["var", "dirReplaced"]],
              [
                "case",
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
                ["var", "dirReplaced"]
              ]
            ]
          ]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          6, [
            "max",
            [
              "case",
              ["has", "rank"],
              [
                "case",
                ["<=", ["get", "rank"], 1], 10.4,
                ["<=", ["get", "rank"], 2], 8.8,
                ["<=", ["get", "rank"], 4], 7.6,
                ["<=", ["get", "rank"], 6], 6.8,
                ["<=", ["get", "rank"], 10], 6,
                8
              ],
              [
                "match", ["get", "class"],
                "city", 9.6,
                "town", 8,
                6.8
              ]
            ],
            ["case", ["has", "capital"], 12, 0]
          ],
          7, [
            "max",
            [
              "case",
              ["has", "rank"],
              [
                "case",
                ["<=", ["get", "rank"], 1], 12,
                ["<=", ["get", "rank"], 2], 10,
                ["<=", ["get", "rank"], 4], 9,
                ["<=", ["get", "rank"], 6], 8,
                ["<=", ["get", "rank"], 10], 7,
                9
              ],
              [
                "match", ["get", "class"],
                "city", 11,
                "town", 9,
                8
              ]
            ],
            ["case", ["has", "capital"], 14, 0]
          ],
          10, [
            "max",
            [
              "case",
              ["has", "rank"],
              [
                "case",
                ["<=", ["get", "rank"], 1], 19,
                ["<=", ["get", "rank"], 2], 16,
                ["<=", ["get", "rank"], 4], 14,
                ["<=", ["get", "rank"], 6], 12,
                ["<=", ["get", "rank"], 10], 11,
                14
              ],
              [
                "match", ["get", "class"],
                "city", 17,
                "town", 14,
                12
              ]
            ],
            ["case", ["has", "capital"], 14, 0]
          ],
          12, [
            "max",
            [
              "case",
              ["has", "rank"],
              [
                "case",
                ["<=", ["get", "rank"], 1], 22,
                ["<=", ["get", "rank"], 2], 19,
                ["<=", ["get", "rank"], 4], 16,
                ["<=", ["get", "rank"], 6], 15,
                ["<=", ["get", "rank"], 10], 13,
                17
              ],
              [
                "match", ["get", "class"],
                "city", 21,
                "town", 17,
                15
              ]
            ],
            ["case", ["has", "capital"], 14, 0]
          ],
          15, [
            "max",
            [
              "case",
              ["has", "rank"],
              [
                "case",
                ["<=", ["get", "rank"], 1], 22,
                ["<=", ["get", "rank"], 2], 19,
                ["<=", ["get", "rank"], 4], 16,
                ["<=", ["get", "rank"], 6], 15,
                ["<=", ["get", "rank"], 10], 13,
                17
              ],
              [
                "match", ["get", "class"],
                "city", 21,
                "town", 17,
                15
              ]
            ],
            ["case", ["has", "capital"], 20, 0]
          ]
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.05
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 1.5,
        "text-halo-blur": 1,
        "text-opacity": 0.6
      }
    },
    {
      "id": "country-label",
      "type": "symbol",
      "source": "us_high",
      "source-layer": "place",
      "minzoom": 6,
      "filter": ["==", ["get", "class"], "country"],
      "layout": {
        "text-field": [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"]],
          [
            "let",
            "dirReplaced", [
              "case",
              ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
              ["var", "name"]
            ],
            [
              "let",
              "len", ["length", ["var", "dirReplaced"]],
              [
                "case",
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
                ["var", "dirReplaced"]
              ]
            ]
          ]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          2, 12, 6, 18, 10, 24
        ],
        "text-transform": "uppercase",
        "text-letter-spacing": 0.1
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 2,
        "text-halo-blur": 1,
        "text-opacity": 0.75
      }
    },
    {
      "id": "state-label-us",
      "type": "symbol",
      "source": "us_high",
      "source-layer": "place",
      "minzoom": 4,
      "filter": ["==", ["get", "class"], "state"],
      "layout": {
        "text-field": [
          "case",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "New York"], "NEW\nYORK",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "New Hampshire"], "NEW\nHAMPSHIRE",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "New Jersey"], "NEW\nJERSEY",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "New Mexico"], "NEW\nMEXICO",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "North Carolina"], "NORTH\nCAROLINA",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "North Dakota"], "NORTH\nDAKOTA",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "South Carolina"], "SOUTH\nCAROLINA",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "South Dakota"], "SOUTH\nDAKOTA",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "West Virginia"], "WEST\nVIRGINIA",
          ["==", ["coalesce", ["get", "name:en"], ["get", "name"]], "Rhode Island"], "RHODE\nISLAND",
          ["upcase", ["coalesce", ["get", "name:en"], ["get", "name"]]]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          4, 8, 8, 16, 12, 18
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.05
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 2,
        "text-halo-blur": 1,
        "text-opacity": 0.5
      }
    },
    {
      "id": "city-label-us-rank1-2",
      "type": "symbol",
      "source": "us_high",
      "source-layer": "place",
      "minzoom": 4,
      "filter": [
        "all",
        ["==", ["get", "class"], "city"],
        ["<=", ["coalesce", ["get", "rank"], 10], 2]
      ],
      "layout": {
        "text-field": [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"]],
          [
            "let",
            "dirReplaced", [
              "case",
              ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
              ["var", "name"]
            ],
            [
              "let",
              "len", ["length", ["var", "dirReplaced"]],
              [
                "case",
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
                ["var", "dirReplaced"]
              ]
            ]
          ]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          4, ["case", ["==", ["coalesce", ["get", "rank"], 1], 1], 15, 12],
          8, ["case", ["==", ["coalesce", ["get", "rank"], 1], 1], 25, 20],
          12, ["case", ["==", ["coalesce", ["get", "rank"], 1], 1], 32, 26]
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.05
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 1.5,
        "text-halo-blur": 1,
        "text-opacity": 0.75
      }
    },
    {
      "id": "city-label-us-rank3-6",
      "type": "symbol",
      "source": "us_high",
      "source-layer": "place",
      "minzoom": 6,
      "filter": [
        "all",
        ["==", ["get", "class"], "city"],
        [">=", ["coalesce", ["get", "rank"], 10], 3],
        ["<=", ["coalesce", ["get", "rank"], 10], 6]
      ],
      "layout": {
        "text-field": [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"]],
          [
            "let",
            "dirReplaced", [
              "case",
              ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
              ["var", "name"]
            ],
            [
              "let",
              "len", ["length", ["var", "dirReplaced"]],
              [
                "case",
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
                ["var", "dirReplaced"]
              ]
            ]
          ]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          6, [
            "case",
            ["all", [">=", ["coalesce", ["get", "rank"], 6], 3], ["<=", ["coalesce", ["get", "rank"], 6], 4]], 13,
            ["all", [">=", ["coalesce", ["get", "rank"], 6], 5], ["<=", ["coalesce", ["get", "rank"], 6], 6]], 11,
            11
          ],
          10, [
            "case",
            ["all", [">=", ["coalesce", ["get", "rank"], 6], 3], ["<=", ["coalesce", ["get", "rank"], 6], 4]], 21,
            ["all", [">=", ["coalesce", ["get", "rank"], 6], 5], ["<=", ["coalesce", ["get", "rank"], 6], 6]], 17,
            17
          ],
          14, [
            "case",
            ["all", [">=", ["coalesce", ["get", "rank"], 6], 3], ["<=", ["coalesce", ["get", "rank"], 6], 4]], 28,
            ["all", [">=", ["coalesce", ["get", "rank"], 6], 5], ["<=", ["coalesce", ["get", "rank"], 6], 6]], 23,
            23
          ]
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.05
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 1.5,
        "text-halo-blur": 1,
        "text-opacity": 0.7
      }
    },
    {
      "id": "city-label-us-rank7-10",
      "type": "symbol",
      "source": "us_high",
      "source-layer": "place",
      "minzoom": 7,
      "filter": [
        "all",
        ["==", ["get", "class"], "city"],
        [">=", ["coalesce", ["get", "rank"], 10], 7],
        ["<=", ["coalesce", ["get", "rank"], 10], 10]
      ],
      "layout": {
        "text-field": [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"]],
          [
            "let",
            "dirReplaced", [
              "case",
              ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
              ["var", "name"]
            ],
            [
              "let",
              "len", ["length", ["var", "dirReplaced"]],
              [
                "case",
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
                ["var", "dirReplaced"]
              ]
            ]
          ]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          7, [
            "case",
            ["all", [">=", ["coalesce", ["get", "rank"], 10], 7], ["<=", ["coalesce", ["get", "rank"], 10], 8]], 10,
            ["all", [">=", ["coalesce", ["get", "rank"], 10], 9], ["<=", ["coalesce", ["get", "rank"], 10], 10]], 8,
            8
          ],
          8, [
            "case",
            ["all", [">=", ["coalesce", ["get", "rank"], 10], 7], ["<=", ["coalesce", ["get", "rank"], 10], 8]], 14,
            ["all", [">=", ["coalesce", ["get", "rank"], 10], 9], ["<=", ["coalesce", ["get", "rank"], 10], 10]], 12,
            12
          ],
          12, [
            "case",
            ["all", [">=", ["coalesce", ["get", "rank"], 10], 7], ["<=", ["coalesce", ["get", "rank"], 10], 8]], 21,
            ["all", [">=", ["coalesce", ["get", "rank"], 10], 9], ["<=", ["coalesce", ["get", "rank"], 10], 10]], 17,
            17
          ],
          15, [
            "case",
            ["all", [">=", ["coalesce", ["get", "rank"], 10], 7], ["<=", ["coalesce", ["get", "rank"], 10], 8]], 24,
            ["all", [">=", ["coalesce", ["get", "rank"], 10], 9], ["<=", ["coalesce", ["get", "rank"], 10], 10]], 20,
            20
          ]
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.05
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 1.5,
        "text-halo-blur": 1,
        "text-opacity": 0.65
      }
    },
    {
      "id": "city-label-us-all",
      "type": "symbol",
      "source": "us_high",
      "source-layer": "place",
      "minzoom": 8,
      "filter": [
        "all",
        [
          "match", ["get", "class"],
          ["city", "town", "village", "hamlet"],
          true,
          false
        ],
        [
          "case",
          ["==", ["get", "class"], "village"],
          [
            "case",
            ["has", "rank"],
            ["<=", ["get", "rank"], 10],
            true
          ],
          true
        ]
      ],
      "layout": {
        "text-field": [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"]],
          [
            "let",
            "dirReplaced", [
              "case",
              ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
              ["var", "name"]
            ],
            [
              "let",
              "len", ["length", ["var", "dirReplaced"]],
              [
                "case",
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
                ["var", "dirReplaced"]
              ]
            ]
          ]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          6, [
            "case",
            ["has", "rank"],
            [
              "case",
              ["<=", ["get", "rank"], 1], 10.4,
              ["<=", ["get", "rank"], 2], 8.8,
              ["<=", ["get", "rank"], 4], 7.6,
              ["<=", ["get", "rank"], 6], 6.8,
              ["<=", ["get", "rank"], 8], 7.2,
              ["<=", ["get", "rank"], 10], 6,
              5.6
            ],
            [
              "match", ["get", "class"],
              "city", 9.6,
              "town", 8,
              6.8
            ]
          ],
          10, [
            "case",
            ["has", "rank"],
            [
              "case",
              ["<=", ["get", "rank"], 1], 19,
              ["<=", ["get", "rank"], 2], 16,
              ["<=", ["get", "rank"], 4], 14,
              ["<=", ["get", "rank"], 6], 12,
              ["<=", ["get", "rank"], 8], 13,
              ["<=", ["get", "rank"], 10], 11,
              10
            ],
            [
              "match", ["get", "class"],
              "city", 17,
              "town", 14,
              12
            ]
          ],
          15, [
            "case",
            ["has", "rank"],
            [
              "case",
              ["<=", ["get", "rank"], 1], 22,
              ["<=", ["get", "rank"], 2], 19,
              ["<=", ["get", "rank"], 4], 16,
              ["<=", ["get", "rank"], 6], 15,
              ["<=", ["get", "rank"], 8], 16,
              ["<=", ["get", "rank"], 10], 13,
              12
            ],
            [
              "match", ["get", "class"],
              "city", 21,
              "town", 17,
              15
            ]
          ]
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.05
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 1.5,
        "text-halo-blur": 1,
        "text-opacity": 0.6
      }
    },
    {
      "id": "city-label-us-small",
      "type": "symbol",
      "source": "us_high",
      "source-layer": "place",
      "minzoom": 10,
      "filter": [
        "all",
        [
          "match", ["get", "class"],
          ["village", "hamlet"],
          true,
          false
        ],
        [
          "case",
          ["has", "rank"],
          [">", ["get", "rank"], 10],
          false
        ]
      ],
      "layout": {
        "text-field": [
          "let",
          "name", ["coalesce", ["get", "name:en"], ["get", "name"]],
          [
            "let",
            "dirReplaced", [
              "case",
              ["==", ["slice", ["var", "name"], 0, 6], "North "], ["concat", "N ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South "], ["concat", "S ", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East "], ["concat", "E ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West "], ["concat", "W ", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 6], "North"], ["concat", "N", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 6], "South"], ["concat", "S", ["slice", ["var", "name"], 6]],
              ["==", ["slice", ["var", "name"], 0, 5], "East"], ["concat", "E", ["slice", ["var", "name"], 5]],
              ["==", ["slice", ["var", "name"], 0, 5], "West"], ["concat", "W", ["slice", ["var", "name"], 5]],
              ["var", "name"]
            ],
            [
              "let",
              "len", ["length", ["var", "dirReplaced"]],
              [
                "case",
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 10], ["var", "len"]], " Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 10]], " Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], " Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], " Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], " Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], " Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], " Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], " Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], " Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], " Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], " Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], " Tpke"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Avenue"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Ave"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Street"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "St"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 9], ["var", "len"]], "Boulevard"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 9]], "Blvd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Drive"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Dr"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Road"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Rd"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 4], ["var", "len"]], "Lane"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 4]], "Ln"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Court"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Ct"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Circle"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Cir"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 6], ["var", "len"]], "Parkway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 6]], "Pkwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 5], ["var", "len"]], "Place"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 5]], "Pl"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 7], ["var", "len"]], "Highway"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 7]], "Hwy"],
                ["==", ["slice", ["var", "dirReplaced"], ["-", ["var", "len"], 8], ["var", "len"]], "Turnpike"], ["concat", ["slice", ["var", "dirReplaced"], 0, ["-", ["var", "len"], 8]], "Tpke"],
                ["var", "dirReplaced"]
              ]
            ]
          ]
        ],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          10, 7, 15, 10
        ],
        "text-transform": "none",
        "text-letter-spacing": 0.05
      },
      "paint": {
        "text-color": "#a8b8d0",
        "text-halo-color": "#0b0f14",
        "text-halo-width": 1.5,
        "text-halo-blur": 1,
        "text-opacity": 0.5
      }
    }
  ]
}

